!function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=2)}([function(e,t,n){"use strict";e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";n(5);var r="undefined"!=typeof self&&self||void 0;e.exports=r.fetch.bind(r)},function(e,t,n){"use strict";var r=n(3),i=function(e){return e&&e.__esModule?e:{default:e}}(r);!function(){var e=window.dac_vars||null;if(e){var t=new i.default,n=!1,r=function(e,r,i,a){if(console.log(a.target),!([13,32].indexOf(a.keyCode)>=0)){var s=document.createElement("ul"),u=a.target;u.setAttribute("autocomplete",!1);var c=t.fullTextQuery(r,u.value);Promise.resolve(c).then(function(t){if(t&&!n){s.classList.add("dac-autocomplete--list"),s.style.left=u.style.left,s.style.top=u.style.height,s.style.width=u.style.width,u.parentNode.appendChild(s),n=!0;for(var r in t)!function(r){var a=document.createElement("li"),c=document.createElement("a");c.setAttribute("data-uid",r),c.setAttribute("href","#"),c.setAttribute("tabindex",1);var f=t[r],d=document.createTextNode(f);c.appendChild(d),c.addEventListener("click",function(t){t.preventDefault(),u.value=f,s.parentNode.removeChild(s),n=!1;var r=i.windowManager.getParams();r[e]=t.target.dataset.uid,i.windowManager.setParams(r),u.focus()}),c.addEventListener("keyup",function(t){switch(t.keyCode){case 13:case 32:u.value=f,s.parentNode.removeChild(s),n=!1;var r=i.windowManager.getParams();r[e]=t.target.dataset.uid,i.windowManager.setParams(r),u.focus();break;case 27:s.parentNode.removeChild(s),u.focus()}}),a.appendChild(c),s.appendChild(a),o(s,u)}(r)}})}},o=function(e,t){var n=e.firstChild,r=e.lastChild;window.addEventListener("keyup",function(e){switch(e.keyCode){case 38:document.activeElement===t||n.firstChild?r.firstChild.focus():document.activeElement.parentElement.previousSibling&&document.activeElement.parentElement.previousSibling.focus();break;case 40:document.activeElement===t||r.firstChild?n.firstChild.focus():document.activeElement.parentElement.nextSibling&&document.activeElement.parentElement.nextSibling.focus()}})};tinymce.create("tinymce.plugins.MyButtons",{init:function(t,n){t.addButton("dac_content_hub",{title:"Create content hub shortcode",image:e.plugin_dir+"/img/dac.svg",onclick:function(){t.windowManager.open({title:"Content hub",body:[{type:"textbox",name:"uid",label:"UID"},{type:"textbox",name:"case_area",label:"Area",onkeyup:function(e){r("case_area","my.case_area.area_name",t,e)}},{type:"textbox",name:"organisation",label:"Organisation",onkeyup:function(e){r("organisation","my.organisation.name",t,e)}},{type:"textbox",name:"case_category",label:"Category",onkeyup:function(e){r("case_category","my.case-category.name",t,e)}},{type:"textbox",name:"build_year",label:"Build year"},{type:"textbox",name:"tags",label:"Tags"}],onsubmit:function(e){var n=[],r=Object.assign(Object(e.data),t.windowManager.getParams());for(var i in r)r[i]&&n.push(i+'="'+r[i]+'"');var o="[content-hub "+n.join(" ")+"]";t.insertContent(o),t.windowManager.close()}})}})}}),tinymce.PluginManager.add("dac_shortcode",tinymce.plugins.MyButtons)}}()},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(4),s=r(a),u=n(6),c=r(u),f=function(){function e(t,n){i(this,e),this.settings=window.dac_vars||null,this.fullTextQuery=this.fullTextQuery.bind(this)}return o(e,[{key:"fullTextQuery",value:function(e,t){if(t.length>2)return s.default.api(""+this.settings.api_endpoint,{accessToken:this.settings.api_token}).then(function(n){return n.query([s.default.Predicates.fulltext(e,t)],{pageSize:10,page:1,orderings:"["+e+" desc]"})}).then(function(e){if(e.results.length){var t={},n=!0,r=!1,i=void 0;try{for(var o,a=e.results[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;switch(s.type){case"case_area":t[s.id]=c.default.RichText.asText(s.data.area_name);break;case"organisation":t[s.id]=s.data.name;break;case"case-category":t[s.id]=c.default.RichText.asText(s.data.name)}}}catch(e){r=!0,i=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw i}}return t}},function(e){console.error("Something went wrong: ",e)})}}]),e}();t.default=f},function(e,t,n){"use strict";(function(e){var r,i,o,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(s,u){"object"==a(t)&&"object"==a(e)?e.exports=u(n(1)):(i=[n(1)],r=u,void 0!==(o="function"==typeof r?r.apply(t,i):r)&&(e.exports=o))}(0,function(e){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=10)}([function(e,t,n){t.__esModule=!0;var r=function(){function e(e){this.data={},this.data=e}return e.prototype.id=function(){return this.data.id},e.prototype.ref=function(){return this.data.ref},e.prototype.label=function(){return this.data.label},e}();t.Variation=r;var i=function(){function e(e){this.data={},this.data=e,this.variations=(e.variations||[]).map(function(e){return new r(e)})}return e.prototype.id=function(){return this.data.id},e.prototype.googleId=function(){return this.data.googleId},e.prototype.name=function(){return this.data.name},e}();t.Experiment=i;var o=function(){function e(e){e&&(this.drafts=(e.drafts||[]).map(function(e){return new i(e)}),this.running=(e.running||[]).map(function(e){return new i(e)}))}return e.prototype.current=function(){return this.running.length>0?this.running[0]:null},e.prototype.refFromCookie=function(e){if(!e||""===e.trim())return null;var t=e.trim().split(" ");if(t.length<2)return null;var n=t[0],r=parseInt(t[1],10),i=this.running.filter(function(e){return e.googleId()==n&&e.variations.length>r})[0];return i?i.variations[r].ref():null},e}();t.Experiments=o},function(e,t,n){function r(e){return"string"==typeof e?'"'+e+'"':e instanceof Array?"["+e.map(function(e){return r(e)}).join(",")+"]":"number"==typeof e?e:null}function i(e,n){return"[:d = "+t.Operator.at+"("+e+", "+r(n)+")]"}function o(e,n){return"[:d = "+t.Operator.not+"("+e+", "+r(n)+")]"}function a(e){return"[:d = "+t.Operator.missing+"("+e+")]"}function s(e){return"[:d = "+t.Operator.has+"("+e+")]"}function u(e,n){return"[:d = "+t.Operator.any+"("+e+", "+r(n)+")]"}function c(e,n){return"[:d = "+t.Operator.in+"("+e+", "+r(n)+")]"}function f(e,n){return"[:d = "+t.Operator.fulltext+"("+e+", "+r(n)+")]"}function d(e,n){return"[:d = "+t.Operator.similar+'("'+this.documentId+'", '+this.maxResults+")]"}function l(e,n){return"[:d = "+t.Operator["number.gt"]+"("+e+", "+n+")]"}function h(e,n){return"[:d = "+t.Operator["number.lt"]+"("+e+", "+n+")]"}function p(e,n,r){return"[:d = "+t.Operator["number.inRange"]+"("+e+", "+this.before+", "+this.after+")]"}function m(e,n){return"[:d = "+t.Operator["date.before"]+"("+e+", "+this.before.getTime()+")]"}function y(e,n){return"[:d = "+t.Operator["date.after"]+"("+e+", "+this.after.getTime()+")]"}function g(e,n,r){return"[:d = "+t.Operator["date.between"]+"("+e+", "+this.before.getTime()+", "+this.after.getTime()+")]"}function v(e,n){return"[:d = "+t.Operator["date.day-of-month"]+"("+e+", "+this.day+")]"}function b(e,n){return"[:d = "+t.Operator["date.day-of-month-after"]+"("+e+", "+this.day+")]"}function w(e,n){return"[:d = "+t.Operator["date.day-of-month-before"]+"("+e+", "+this.day+")]"}function x(e,n){return"[:d = "+t.Operator["date.day-of-week"]+"("+e+", "+this.day+")]"}function k(e,n){return"[:d = "+t.Operator["date.day-of-week-after"]+"("+e+", "+this.day+")]"}function _(e,n){return"[:d = "+t.Operator["date.day-of-week-before"]+"("+e+", "+this.day+")]"}function E(e,n){return"number"==typeof this.month?"[:d = "+t.Operator["date.month"]+"("+e+", "+this.month+")]":"[:d = "+t.Operator["date.month"]+"("+e+', "'+this.month+'")]'}function O(e,n){return"number"==typeof this.month?"[:d = "+t.Operator["date.month-before"]+"("+e+", "+this.month+")]":"[:d = "+t.Operator["date.month-before"]+"("+e+', "'+this.month+'")]'}function P(e,n){return"number"==typeof this.month?"[:d = "+t.Operator["date.month-after"]+"("+e+", "+this.month+")]":"[:d = "+t.Operator["date.month-after"]+"("+e+', "'+this.month+'")]'}function T(e,n){return"[:d = "+t.Operator["date.year"]+"("+e+", "+this.year+")]"}function A(e,n){return"[:d = "+t.Operator["date.hour"]+"("+e+", "+this.hour+")]"}function j(e,n){return"[:d = "+t.Operator["date.hour-before"]+"("+e+", "+this.hour+")]"}function M(e,n){return"[:d = "+t.Operator["date.hour-after"]+"("+e+", "+this.hour+")]"}function B(e,n,r,i){return"[:d = "+t.Operator["geopoint.near"]+"("+e+", "+this.latitude+", "+this.longitude+", "+this.radius+")]"}t.__esModule=!0,t.Operator={at:"at",not:"not",missing:"missing",has:"has",any:"any",in:"in",fulltext:"fulltext",similar:"similar","number.gt":"number.gt","number.lt":"number.lt","number.inRange":"number.inRange","date.before":"date.before","date.after":"date.after","date.between":"date.between","date.day-of-month":"date.day-of-month","date.day-of-month-after":"date.day-of-month-after","date.day-of-month-before":"date.day-of-month-before","date.day-of-week":"date.day-of-week","date.day-of-week-after":"date.day-of-week-after","date.day-of-week-before":"date.day-of-week-before","date.month":"date.month","date.month-before":"date.month-before","date.month-after":"date.month-after","date.year":"date.year","date.hour":"date.hour","date.hour-before":"date.hour-before","date.hour-after":"date.hour-after","geopoint.near":"geopoint.near"},t.AtPredicate=i,t.NotPredicate=o,t.MissingPredicate=a,t.HasPredicate=s,t.AnyPredicate=u,t.InPredicate=c,t.FulltextPredicate=f,t.SimilarPredicate=d,t.GtPredicate=l,t.LtPredicate=h,t.InRangePredicate=p,t.DateBeforePredicate=m,t.DateAfterPredicate=y,t.DateBetweenPredicate=g,t.DayOfMonthPredicate=v,t.DayOfMonthAfterPredicate=b,t.DayOfMonthBeforePredicate=w,t.DayOfWeekPredicate=x,t.DayOfWeekAfterPredicate=k,t.DayOfWeekBeforePredicate=_,t.MonthPredicate=E,t.MonthBeforePredicate=O,t.MonthAfterPredicate=P,t.YearPredicate=T,t.HourPredicate=A,t.HourBeforePredicate=j,t.HourAfterPredicate=M,t.NearPredicate=B,t.Predicates={at:i,not:o,missing:a,has:s,any:u,in:c,fulltext:f,similar:d,gt:l,lt:h,inRange:p,dateBefore:m,dateAfter:y,between:g,dayOfMonth:v,dayOfMonthAfter:b,dayOfMonthBefore:w,dayOfWeek:x,dayOfWeekAfter:k,dayOfWeekBefore:_,month:E,monthBefore:O,monthAfter:P,year:T,hour:A,hourBefore:j,hourAfter:M,near:B}},function(e,t,n){function r(e,t){var n=t||{},r=new o.Api(e,n);return new Promise(function(e,t){var i=function(r,i){n.complete&&n.complete(r,i),r?t(r):e(i)};return r.get(function(e,t){!e&&t&&(r.data=t,r.bookmarks=t.bookmarks,r.experiments=new s.Experiments(t.experiments)),i(e,r)}),r})}t.__esModule=!0;var i=n(7),o=n(4),a=n(1),s=n(0);e.exports={experimentCookie:o.ExperimentCookie,previewCookie:o.PreviewCookie,Document:i.Document,SearchForm:o.SearchForm,Form:o.Form,Experiments:s.Experiments,Predicates:a.Predicates,api:r,getApi:r}},function(t,n){t.exports=e},function(e,t,n){t.__esModule=!0;var r=n(1),i=n(0),o=n(9),a=n(5),s=n(6);t.PreviewCookie="io.prismic.preview",t.ExperimentCookie="io.prismic.experiment";var u=function(){function e(e,t,n,r,i){this.ref=e,this.label=t,this.isMaster=n,this.scheduledAt=r,this.id=i}return e}();t.Ref=u;var c=function(){function e(e,t,n,r,i,o){this.fields=e,this.action=t,this.name=n,this.rel=r,this.form_method=i,this.enctype=o}return e.prototype.getField=function(e){return this.fields[e]},e.prototype.getFieldSafe=function(e){var t=this.fields[e];if(!t)throw new Error("Missing field "+t+" in form fields "+this.fields);return t},e}();t.Form=c;var f=function(){function e(e,t,n){this.api=e,this.form=t,this.data=n||{};for(var r in t.fields)t.getFieldSafe(r).default&&(this.data[r]=[t.fields[r].default])}return e.prototype.set=function(e,t){var n=this.form.getField(e);if(!n)throw new Error("Unknown field "+e);var r=""===t||void 0===t?null:t,i=this.data[e]||[];return i=n.multiple?r?i.concat([r]):i:r?[r]:i,this.data[e]=i,this},e.prototype.ref=function(e){return this.set("ref",e)},e.prototype.query=function(e){if("string"==typeof e)return this.query([e]);if(e instanceof Array)return this.set("q","["+e.join("")+"]");throw new Error("Invalid query : "+e)},e.prototype.pageSize=function(e){return this.set("pageSize",e)},e.prototype.fetch=function(e){var t=e instanceof Array?e.join(","):e;return this.set("fetch",t)},e.prototype.fetchLinks=function(e){var t=e instanceof Array?e.join(","):e;return this.set("fetchLinks",t)},e.prototype.lang=function(e){return this.set("lang",e)},e.prototype.page=function(e){return this.set("page",e)},e.prototype.orderings=function(e){return e?this.set("orderings","["+e.join(",")+"]"):this},e.prototype.submit=function(e){var t=this.form.action;if(this.data){var n=t.indexOf("?")>-1?"&":"?";for(var r in this.data)if(this.data.hasOwnProperty(r)){var i=this.data[r];if(i)for(var o=0;o<i.length;o++)t+=n+r+"="+encodeURIComponent(i[o]),n="&"}}return this.api.request(t,e)},e}();t.SearchForm=f;var d=function(){function e(e,t,n,r,i,o,a,s){this.page=e,this.results_per_page=t,this.results_size=n,this.total_results_size=r,this.total_pages=i,this.next_page=o,this.prev_page=a,this.results=s}return e}();t.ApiResponse=d;var l=function(){function e(e,t){var n=t||{};return this.accessToken=n.accessToken,this.url=e+(this.accessToken?(e.indexOf("?")>-1?"&":"?")+"access_token="+this.accessToken:""),this.req=n.req,this.apiCache=n.apiCache||new a.DefaultApiCache,this.requestHandler=n.requestHandler||new o.DefaultRequestHandler,this.apiCacheKey=this.url+(this.accessToken?"#"+this.accessToken:""),this.apiDataTTL=n.apiDataTTL||5,this}return e.prototype.get=function(e){var t=this,n=this.apiCacheKey;return new Promise(function(r,i){var o=function(t,n,o,a){e&&e(t,n,o,a),n&&r(n),t&&i(t)};t.apiCache.get(n,function(e,r){if(e||r)return void o(e,r);t.requestHandler.request(t.url,function(e,r,i,a){if(e)return void o(e,null,i,a);var s=t.parse(r);a=a||t.apiDataTTL,t.apiCache.set(n,s,a,function(e){o(e,s,i,a)})})})})},e.prototype.refresh=function(e){var t=this.apiCacheKey;return new Promise(function(n,r){var o=this,a=function(t,i,o){e&&e(t,i,o),i&&n(i),t&&r(t)};this.apiCache.remove(t,function(e){if(e)return void a(e);o.get(function(e,t){if(e)return void a(e);o.data=t,o.bookmarks=t.bookmarks,o.experiments=new i.Experiments(t.experiments),a()})})})},e.prototype.parse=function(e){var t=this,n=Object.keys(e.forms||[]).reduce(function(n,r,i){if(e.forms.hasOwnProperty(r)){var o=e.forms[r];t.accessToken&&(o.fields.access_token={},o.fields.access_token.type="string",o.fields.access_token.default=t.accessToken);var a=new c(o.fields,o.action,o.name,o.rel,o.form_method,o.enctype);return n[r]=a,n}return n},{}),r=e.refs.map(function(e){return new u(e.ref,e.label,e.isMasterRef,e.scheduledAt,e.id)})||[],i=r.filter(function(e){return!0===e.isMaster}),o=e.types,a=e.tags;if(0===i.length)throw"No master ref.";return{bookmarks:e.bookmarks||{},refs:r,forms:n,master:i[0],types:o,tags:a,experiments:e.experiments,oauthInitiate:e.oauth_initiate,oauthToken:e.oauth_token,quickRoutes:e.quickRoutes}},e.prototype.form=function(e){var t=this.data.forms[e];return t?new f(this,t,{}):null},e.prototype.everything=function(){var e=this.form("everything");if(!e)throw new Error("Missing everything form");return e},e.prototype.master=function(){return this.data.master.ref},e.prototype.ref=function(e){for(var t=0;t<this.data.refs.length;t++)if(this.data.refs[t].label==e)return this.data.refs[t].ref;return null},e.prototype.currentExperiment=function(){return this.experiments.current()},e.prototype.quickRoutesEnabled=function(){return this.data.quickRoutes.enabled},e.prototype.getQuickRoutes=function(e){var t=this;return new Promise(function(n,r){t.requestHandler.request(t.data.quickRoutes.url,function(t,i,o){e&&e(t,i,o),t&&r(t),i&&n(i)})})},e.prototype.query=function(e,n,r){var i="function"==typeof n?{options:{},callback:n}:{options:n||{},callback:r},o=i.options,a=i.callback,u=o,c=this.everything();for(var f in u)c=c.set(f,u[f]);if(!u.ref){var d="";this.req?d=this.req.headers.cookie||"":"undefined"!=typeof window&&window.document&&(d=window.document.cookie||"");var l=s.default.parse(d),h=l[t.PreviewCookie],p=this.experiments.refFromCookie(l[t.ExperimentCookie]);c=c.ref(h||p||this.master())}return e&&c.query(e),c.submit(a)},e.prototype.queryFirst=function(e,t,n){var r="function"==typeof t?{options:{},callback:t}:{options:t||{},callback:n},i=r.options,o=r.callback,a=i;return a.page=1,a.pageSize=1,this.query(e,a,function(e,t){if(o){var n=t&&t.results&&t.results[0];o(e,n)}}).then(function(e){return e&&e.results&&e.results[0]}).catch(function(e){console.log(e)})},e.prototype.getByID=function(e,t,n){return t=t||{},t.lang||(t.lang="*"),this.queryFirst(r.Predicates.at("document.id",e),t,n)},e.prototype.getByIDs=function(e,t,n){return t=t||{},t.lang||(t.lang="*"),this.query(r.Predicates.in("document.id",e),t,n)},e.prototype.getByUID=function(e,t,n,i){return n=n||{},n.lang||(n.lang="*"),this.queryFirst(r.Predicates.at("my."+e+".uid",t),n,i)},e.prototype.getSingle=function(e,t,n){return this.queryFirst(r.Predicates.at("document.type",e),t,n)},e.prototype.getBookmark=function(e,t,n){return new Promise(function(t,r){var i=this.bookmarks[e];if(i)t(i);else{var o=new Error("Error retrieving bookmarked id");n&&n(o),r(o)}}).then(function(e){return this.getByID(e,t,n)})},e.prototype.previewSession=function(e,t,n,i){var o=this;return new Promise(function(a,s){var u=function(e,t,n){i&&i(e,t,n),e?s(e):a(t)};o.requestHandler.request(e,function(i,a,s){if(i)return void u(i,n,s);try{var c=a.mainDocument;c?o.everything().query(r.Predicates.at("document.id",c)).ref(e).lang("*").submit(function(e,r){e&&u(e);try{0===r.results.length?u(null,n,s):u(null,t(r.results[0]),s)}catch(e){u(e)}}):u(null,n,s)}catch(e){u(e,n,s)}})})},e.prototype.request=function(e,t){function n(t){o.get(i,function(n,a){if(n||a)return void t(n,r.response(a));r.requestHandler.request(e,function(e,n,a,s){if(e)return void t(e,null,a);s?o.set(i,n,s,function(e){t(e,r.response(n))}):t(null,r.response(n))})})}var r=this,i=e+(this.accessToken?"#"+this.accessToken:""),o=this.apiCache;return new Promise(function(e,r){n(function(n,i,o){t&&t(n,i,o),n&&r(n),i&&e(i)})})},e.prototype.getNextPage=function(e,t){return this.request(e+(this.accessToken?"&access_token="+this.accessToken:""),t)},e.prototype.response=function(e){return new d(e.page,e.results_per_page,e.results_size,e.total_results_size,e.total_pages,e.next_page,e.prev_page,e.results||[])},e}();t.Api=l},function(e,t,n){t.__esModule=!0;var r=n(8),i=function(){function e(e){this.lru=r.MakeLRUCache(e)}return e.prototype.isExpired=function(e){var t=this.lru.get(e,!1);return!!t&&0!==t.expiredIn&&t.expiredIn<Date.now()},e.prototype.get=function(e,t){var n=this.lru.get(e,!1);n&&!this.isExpired(e)?t(null,n.data):t()},e.prototype.set=function(e,t,n,r){this.lru.remove(e),this.lru.put(e,{data:t,expiredIn:n?Date.now()+1e3*n:0}),r()},e.prototype.remove=function(e,t){this.lru.remove(e),t()},e.prototype.clear=function(e){this.lru.removeAll(),e()},e}();t.DefaultApiCache=i},function(e,t,n){function r(e,t){try{return t(e)}catch(t){return e}}function i(e,t){if("string"!=typeof e)throw new TypeError("argument str must be a string");var n={},i=t||{},a=i.decode||o;return e.split(/; */).forEach(function(e){var t=e.indexOf("=");if(!(t<0)){var i=e.substr(0,t).trim(),o=e.substr(++t,e.length).trim();'"'==o[0]&&(o=o.slice(1,-1)),void 0==n[i]&&(n[i]=r(o,a))}}),n}t.__esModule=!0;var o=decodeURIComponent;t.default={parse:i}},function(e,t,n){t.__esModule=!0;var r=function(){function e(e,t,n,r,i,o,a,s,u,c,f,d){this.id=e,this.uid=f,this.type=t,this.href=n,this.tags=r,this.slug=i[0],this.slugs=o,this.lang=d,this.alternateLanguages=a,this.firstPublicationDate=s?new Date(s):null,this.lastPublicationDate=u?new Date(u):null,this.data=c}return e}();t.Document=r;var i=function(){function e(e){this.data=e}return e}();t.GroupDoc=i},function(e,t,n){function r(e){return new i(e)}function i(e){this.size=0,this.limit=e,this._keymap={}}t.__esModule=!0,t.MakeLRUCache=r,i.prototype.put=function(e,t){var n={key:e,value:t};if(this._keymap[e]=n,this.tail?(this.tail.newer=n,n.older=this.tail):this.head=n,this.tail=n,this.size===this.limit)return this.shift();this.size++},i.prototype.shift=function(){var e=this.head;return e&&(this.head.newer?(this.head=this.head.newer,this.head.older=void 0):this.head=void 0,e.newer=e.older=void 0,delete this._keymap[e.key]),console.log("purging ",e.key),e},i.prototype.get=function(e,t){var n=this._keymap[e];if(void 0!==n)return n===this.tail?t?n:n.value:(n.newer&&(n===this.head&&(this.head=n.newer),n.newer.older=n.older),n.older&&(n.older.newer=n.newer),n.newer=void 0,n.older=this.tail,this.tail&&(this.tail.newer=n),this.tail=n,t?n:n.value)},i.prototype.find=function(e){return this._keymap[e]},i.prototype.set=function(e,t){var n,r=this.get(e,!0);return r?(n=r.value,r.value=t):(n=this.put(e,t))&&(n=n.value),n},i.prototype.remove=function(e){var t=this._keymap[e];if(t)return delete this._keymap[t.key],t.newer&&t.older?(t.older.newer=t.newer,t.newer.older=t.older):t.newer?(t.newer.older=void 0,this.head=t.newer):t.older?(t.older.newer=void 0,this.tail=t.older):this.head=this.tail=void 0,this.size--,t.value},i.prototype.removeAll=function(){this.head=this.tail=void 0,this.size=0,this._keymap={}},"function"==typeof Object.keys?i.prototype.keys=function(){return Object.keys(this._keymap)}:i.prototype.keys=function(){var e=[];for(var t in this._keymap)e.push(t);return e},i.prototype.forEach=function(e,t,n){var r;if(!0===t?(n=!0,t=void 0):"object"!=(void 0===t?"undefined":a(t))&&(t=this),n)for(r=this.tail;r;)e.call(t,r.key,r.value,this),r=r.older;else for(r=this.head;r;)e.call(t,r.key,r.value,this),r=r.newer},i.prototype.toString=function(){for(var e="",t=this.head;t;)e+=String(t.key)+":"+t.value,(t=t.newer)&&(e+=" < ");return e}},function(e,t,n){function r(e,t){return{name:"prismic-request-error",message:t,status:e}}function i(e,t,n){return fetch(e,{headers:{Accept:"application/json"}}).then(function(t){if(~~(t.status/100!=2))throw r(t.status,"Unexpected status code ["+t.status+"] on URL "+e);return t.json().then(function(e){return{response:t,json:e}})}).then(function(e){var n=e.response,r=e.json,i=n.headers.get("cache-control"),o=i?/max-age=(\d+)/.exec(i):null,a=o?parseInt(o[1],10):void 0;t({result:r,xhr:n,ttl:a})}).catch(function(e){n({error:e})})}function o(){if(!(0===u.length||s>=a)){s++;var e=u.shift();i(e.url,function(t){var n=t.result,r=t.xhr,i=t.ttl;s--,e.callback(null,n,r,i),o()},function(t){var n=t.error;s--,e.callback(n),o()})}}t.__esModule=!0;var a=20,s=0,u=[],c=function(){function e(){}return e.prototype.request=function(e,t){u.push({url:e,callback:t}),o()},e}();t.DefaultRequestHandler=c},function(e,t,n){n(3),e.exports=n(2)}])})}).call(t,n(0)(e))},function(e,t,n){"use strict";!function(e){function t(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function n(e){return"string"!=typeof e&&(e=String(e)),e}function r(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return g.iterable&&(t[Symbol.iterator]=function(){return t}),t}function i(e){this.map={},e instanceof i?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function o(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function a(e){return new Promise(function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function s(e){var t=new FileReader,n=a(t);return t.readAsArrayBuffer(e),n}function u(e){var t=new FileReader,n=a(t);return t.readAsText(e),n}function c(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}function f(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function d(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,e)if("string"==typeof e)this._bodyText=e;else if(g.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(g.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(g.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(g.arrayBuffer&&g.blob&&b(e))this._bodyArrayBuffer=f(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!g.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e)&&!w(e))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=f(e)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):g.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},g.blob&&(this.blob=function(){var e=o(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?o(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(s)}),this.text=function(){var e=o(this);if(e)return e;if(this._bodyBlob)return u(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(c(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},g.formData&&(this.formData=function(){return this.text().then(p)}),this.json=function(){return this.text().then(JSON.parse)},this}function l(e){var t=e.toUpperCase();return x.indexOf(t)>-1?t:e}function h(e,t){t=t||{};var n=t.body;if(e instanceof h){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new i(e.headers)),this.method=e.method,this.mode=e.mode,n||null==e._bodyInit||(n=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new i(t.headers)),this.method=l(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function p(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(i))}}),t}function m(e){var t=new i;return e.split(/\r?\n/).forEach(function(e){var n=e.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();t.append(r,i)}}),t}function y(e,t){t||(t={}),this.type="default",this.status="status"in t?t.status:200,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new i(t.headers),this.url=t.url||"",this._initBody(e)}if(!e.fetch){var g={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};if(g.arrayBuffer)var v=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],b=function(e){return e&&DataView.prototype.isPrototypeOf(e)},w=ArrayBuffer.isView||function(e){return e&&v.indexOf(Object.prototype.toString.call(e))>-1};i.prototype.append=function(e,r){e=t(e),r=n(r);var i=this.map[e];this.map[e]=i?i+","+r:r},i.prototype.delete=function(e){delete this.map[t(e)]},i.prototype.get=function(e){return e=t(e),this.has(e)?this.map[e]:null},i.prototype.has=function(e){return this.map.hasOwnProperty(t(e))},i.prototype.set=function(e,r){this.map[t(e)]=n(r)},i.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},i.prototype.keys=function(){var e=[];return this.forEach(function(t,n){e.push(n)}),r(e)},i.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),r(e)},i.prototype.entries=function(){var e=[];return this.forEach(function(t,n){e.push([n,t])}),r(e)},g.iterable&&(i.prototype[Symbol.iterator]=i.prototype.entries);var x=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];h.prototype.clone=function(){return new h(this,{body:this._bodyInit})},d.call(h.prototype),d.call(y.prototype),y.prototype.clone=function(){return new y(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new i(this.headers),url:this.url})},y.error=function(){var e=new y(null,{status:0,statusText:""});return e.type="error",e};var k=[301,302,303,307,308];y.redirect=function(e,t){if(-1===k.indexOf(t))throw new RangeError("Invalid status code");return new y(null,{status:t,headers:{location:e}})},e.Headers=i,e.Request=h,e.Response=y,e.fetch=function(e,t){return new Promise(function(n,r){var i=new h(e,t),o=new XMLHttpRequest;o.onload=function(){var e={status:o.status,statusText:o.statusText,headers:m(o.getAllResponseHeaders()||"")};e.url="responseURL"in o?o.responseURL:e.headers.get("X-Request-URL");var t="response"in o?o.response:o.responseText;n(new y(t,e))},o.onerror=function(){r(new TypeError("Network request failed"))},o.ontimeout=function(){r(new TypeError("Network request failed"))},o.open(i.method,i.url,!0),"include"===i.credentials&&(o.withCredentials=!0),"responseType"in o&&g.blob&&(o.responseType="blob"),i.headers.forEach(function(e,t){o.setRequestHeader(t,e)}),o.send(void 0===i._bodyInit?null:i._bodyInit)})},e.fetch.polyfill=!0}}("undefined"!=typeof self?self:void 0)},function(e,t,n){"use strict";(function(e){var n,r,i,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(a,s){"object"==o(t)&&"object"==o(e)?e.exports=s():(r=[],n=s,void 0!==(i="function"==typeof n?n.apply(t,r):n)&&(e.exports=i))}(0,function(){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=4)}([function(e,t,n){!function(t,n){e.exports=function(){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=3)}([function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}var i=n(2),o=r(i),a=n(1),s=r(a);e.exports={Link:o.default,Date:s.default}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(!e)return null;var t=24==e.length?e.substring(0,22)+":"+e.substring(22,24):e;return new Date(t)}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default={url:function(e,t){return"Document"===e.link_type?t?t(e,e.isBroken):"":e.url}}},function(e,t,n){e.exports=n(0)}])}()}()},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}var i=n(0),o=r(i),a=n(2),s=r(a);e.exports={Date:o.default.Date,RichText:s.default,Link:o.default.Link}},function(e,t,n){function r(e,t,n,r,i){switch(t){case d.Elements.heading1:return o("h1",n,i);case d.Elements.heading2:return o("h2",n,i);case d.Elements.heading3:return o("h3",n,i);case d.Elements.heading4:return o("h4",n,i);case d.Elements.heading5:return o("h5",n,i);case d.Elements.heading6:return o("h6",n,i);case d.Elements.paragraph:return o("p",n,i);case d.Elements.preformatted:return o("pre",n,i);case d.Elements.strong:return o("strong",n,i);case d.Elements.em:return o("em",n,i);case d.Elements.listItem:case d.Elements.oListItem:return o("li",n,i);case d.Elements.list:return o("ul",n,i);case d.Elements.oList:return o("ol",n,i);case d.Elements.image:return a(e,n);case d.Elements.embed:return s(n);case d.Elements.hyperlink:return u(e,n,i);case d.Elements.label:return c(n,i);case d.Elements.span:return f(r);default:return""}}function i(e){return e.label?' class="'+e.label+'"':""}function o(e,t,n){return"<"+e+i(t)+">"+n.join("")+"</"+e+">"}function a(e,t){var n=t.linkTo?h.Link.url(t.linkTo,e):null,r=[t.label||"","block-img"],i='<img src="'+t.url+'" alt="'+(t.alt||"")+'" copyright="'+(t.copyright||"")+'">';return"\n    <p class="+r.join(" ")+">\n      "+(n?'<a href="'+n+'">'+i+"</a>":i)+"\n    </p>\n  "}function s(e){return'\n    <div data-oembed="'+e.embed_url+'"\n      data-oembed-type="'+e.type+'"\n      data-oembed-provider="'+e.provider_name+"\n      "+i(e)+">\n          \n      "+e.oembed.html+"\n    </div>\n  "}function u(e,t,n){return'<a href="'+h.Link.url(t.data,e)+'">'+n.join("")+"</a>"}function c(e,t){return"<span "+i(e.data)+">"+t.join("")+"</span>"}function f(e){return e}Object.defineProperty(t,"__esModule",{value:!0});var d=n(3),l=function(e){return e&&e.__esModule?e:{default:e}}(d),h=n(0);t.default={asText:function(e){return l.default.asText(e)},asHtml:function(e,t,n){return l.default.serialize(e,r.bind(null,t),n).join("")}}},function(e,t,n){!function(t,n){e.exports=function(){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=2)}([function(e,t,n){function r(e,t,n){void 0===e&&(e="");var r=n-t;return e.substr(t,r)}function i(e,t){void 0===t&&(t=[]);var n=t.map(function(t){return new d(t.start,t.end,t.type,t,[],r(e,t.start,t.end))}),i=new d(0,e.length-1,u.ElementKind[u.ElementKind.span],{},[],e),s=[i].concat(n);return function t(n){if(0===n.length)return[];var r=o(n),i=r[0],s=r.slice(1),u=a(e,i,s instanceof Array?s:[s]),c=u[0],f=u[1];return[i.addChildren(c)].concat(t(f))}(s)}function o(e){return e.sort(function(e,t){if(t.contains(e))return u.Element.isSpan(t)?-1:1;var n=c[e.type]-c[t.type];return 0===n?e.length()-t.length():n})}function a(e,t,n){function i(t,n,i){var o=r(e,n,i);return t.copy({start:n,end:i,text:o})}return n.reduce(function(e,n){var r=e[0],o=e[1],a=function(){if(t.contains(n))return[[n],null];if(n.isOutside(t))return[null,[n]];if(n.contains(t)){var e=n.copy({start:t.start,end:t.end,text:t.text});return[[e],[t.start>n.start?i(n,n.start,t.start):null,t.end<n.end?i(n,t.end,n.end+1):null].filter(function(e){return null!==e})]}if(t.start<=n.start&&t.end<n.end){var e=i(n,n.start,t.end+1),r=i(n,t.end+1,n.end+1);return[[e],[r]]}if(t.start>n.start&&t.end>=n.end){var e=i(n,t.start,n.end+1),r=i(n,n.start,t.start);return[[e],[r]]}return[[],[]]}(),s=a[0],u=a[1];return[r.concat(s||[]),o.concat(u||[])]},[[],[]])}t.__esModule=!0;var s=n(4),u=n(1),c=(l={},l[u.ElementKind[u.ElementKind.heading1]]=4,l[u.ElementKind[u.ElementKind.heading2]]=4,l[u.ElementKind[u.ElementKind.heading4]]=4,l[u.ElementKind[u.ElementKind.heading4]]=4,l[u.ElementKind[u.ElementKind.heading5]]=4,l[u.ElementKind[u.ElementKind.heading6]]=4,l[u.ElementKind[u.ElementKind.paragraph]]=3,l[u.ElementKind[u.ElementKind.preformatted]]=5,l[u.ElementKind[u.ElementKind.strong]]=6,l[u.ElementKind[u.ElementKind.em]]=6,l[u.ElementKind[u.ElementKind["list-item"]]]=1,l[u.ElementKind[u.ElementKind["o-list-item"]]]=1,l[u.ElementKind[u.ElementKind["group-list-item"]]]=1,l[u.ElementKind[u.ElementKind["group-o-list-item"]]]=1,l[u.ElementKind[u.ElementKind.image]]=1,l[u.ElementKind[u.ElementKind.embed]]=1,l[u.ElementKind[u.ElementKind.hyperlink]]=3,l[u.ElementKind[u.ElementKind.label]]=4,l[u.ElementKind[u.ElementKind.span]]=7,l),f=function(){function e(e){this.root=e}return e.create=function(t){return new e({key:s.default(),children:t})},e.fromRichText=function(t){var n=t.reduce(function(e,t){if(u.Element.containsText(t)){var n=i(t.text,t.spans),o=n.sort(function(e,t){return e.start-t.start}),a=t.text.length-1,s=e.length>0?e[e.length-1]:null;if(u.Element.isListItem(t)&&u.Element.isList(s)){var c=s,f=new d(0,a,t.type,t,o,r(t.text,0,a)),l=c.children.concat([f]),h=c.copy({children:l});return e.slice(0,e.length-1).concat([h])}if(u.Element.isOrderedListItem(t)&&u.Element.isOrderedList(s)){var c=s,p=new d(0,a,t.type,t,o,r(t.text,0,a)),l=c.children.concat([p]),m=c.copy({children:l});return e.slice(0,e.length-1).concat([m])}if(u.Element.isListItem(t)){var f=new d(0,a,t.type,t,o,r(t.text,0,a)),h=new d(0,a,u.ElementKindAsObj.list,{},[f]);return e.concat([h])}if(u.Element.isOrderedListItem(t)){var p=new d(0,a,t.type,t,o,r(t.text,0,a)),m=new d(0,a,u.ElementKindAsObj.oList,{},[p]);return e.concat([m])}return e.concat(new d(0,a,t.type,t,o,r(t.text,0,a)))}return e.concat(new d(0,0,t.type,t,[]))},[]);return e.create(n)},e}();t.Tree=f;var d=function(){function e(e,t,n,r,i,o){void 0===i&&(i=[]),this.key=s.default(),this.start=e,this.end=t,this.type=n,this.text=o,this.raw=r,this.children=i}return e.prototype.contains=function(e){return this.start<=e.start&&this.end>=e.end},e.prototype.isOutside=function(e){return this.start<e.start&&this.end<e.start||this.start>e.end&&this.end>e.end},e.prototype.copy=function(t){return new e(t.start||this.start,t.end||this.end,t.type||this.type,t.raw||this.raw,t.children||this.children,t.text||this.text)},e.prototype.add=function(e){return this.children.reduce(function(t,n){return n.contains(e)?n.add(e):null},null)||this.copy({children:this.children.concat([e])})},e.prototype.addChildren=function(t){return new e(this.start,this.end,this.type,this.raw,function(e,t,n){return n.reduce(function(e,t){return 0===e.length?e.concat([t]):e.reduce(function(e,n){return n.contains(t)?e.concat([n.add(t)]):t.contains(n)?e.concat([t.add(n)]):e.concat([n,t])},[])},t)}(0,this.children,t),this.text)},e.prototype.length=function(){return this.start-this.end+1},e}();t.Leaf=d;var l},function(e,t,n){t.__esModule=!0;var r,i=n(5);!function(e){e[e.heading1=0]="heading1",e[e.heading2=1]="heading2",e[e.heading3=2]="heading3",e[e.heading4=3]="heading4",e[e.heading5=4]="heading5",e[e.heading6=5]="heading6",e[e.paragraph=6]="paragraph",e[e.preformatted=7]="preformatted",e[e.strong=8]="strong",e[e.em=9]="em",e[e["list-item"]=10]="list-item",e[e["o-list-item"]=11]="o-list-item",e[e["group-list-item"]=12]="group-list-item",e[e["group-o-list-item"]=13]="group-o-list-item",e[e.image=14]="image",e[e.embed=15]="embed",e[e.hyperlink=16]="hyperlink",e[e.label=17]="label",e[e.span=18]="span"}(r=t.ElementKind||(t.ElementKind={})),t.ElementKindAsObj={heading1:"heading1",heading2:"heading2",heading3:"heading3",heading4:"heading4",heading5:"heading5",heading6:"heading6",paragraph:"paragraph",preformatted:"preformatted",strong:"strong",em:"em",listItem:"list-item",oListItem:"o-list-item",list:"group-list-item",oList:"group-o-list-item",image:"image",embed:"embed",hyperlink:"hyperlink",label:"label",span:"span"};var o=function(){function e(e,t,n){switch(this.value=e,this.level=t,this.content=n,t){case 1:this.kind=r.heading1;break;case 2:this.kind=r.heading2;break;case 3:this.kind=r.heading3;break;case 4:this.kind=r.heading4;break;case 5:this.kind=r.heading5;break;case 6:this.kind=r.heading6;break;default:throw Error("Invalid heading level "+t)}}return e}();t.Heading=o;var a=function(){function e(e,t,n){this.value=e,this.organized=t,this.content=n}return e}();t.ListItem=a;var s=function(){function e(e,t){this.organized=t,this.value=e}return e}();t.List=s;var u=function(){function e(e,t){this.kind=r.paragraph,this.value=e,this.content=t}return e}();t.Paragraph=u;var c=function(){function e(e,t){this.kind=r.preformatted,this.value=e,this.content=t}return e}();t.Preformatted=c;var f=function(){function e(e,t){this.kind=r.strong,this.value=e,this.content=t}return e}();t.Strong=f;var d=function(){function e(e,t){this.kind=r.em,this.value=e,this.content=t}return e}();t.Emphasized=d;var l=function(){function e(e,t,n){this.kind=r.image,this.value=e,this.url=this.value.url,this.content=t,this.linkUrl=e.linkTo?i.Link.url(e.linkTo,n):null}return e}();t.Image=l;var h=function(){function e(e,t){this.kind=r.embed,this.value=e,this.content=t}return e}();t.Embed=h;var p=function(){function e(e,t,n){this.kind=r.hyperlink,this.value=e,this.content=t,this.url=i.Link.url(e,n)}return e}();t.Link=p;var m=function(){function e(e,t){this.kind=r.label,this.value=e,this.content=t}return e}();t.Label=m;var y=function(){function e(e,t){this.kind=r.span,this.value=e,this.content=t}return e}();t.Span=y,t.Element={containsText:function(e){return!("image"===e.type||"embed"===e.embed)},isList:function(e){return!!e&&t.ElementKindAsObj.list===e.type},isOrderedList:function(e){return!!e&&t.ElementKindAsObj.oList===e.type},isListItem:function(e){return!!e&&t.ElementKindAsObj.listItem===e.type},isOrderedListItem:function(e){return!!e&&t.ElementKindAsObj.oListItem===e.type},isSpan:function(e){return!!e&&t.ElementKindAsObj.span===e.type},apply:function(e,t,n){switch(e.type){case"heading1":return new o(e,1,t);case"heading2":return new o(e,2,t);case"heading3":return new o(e,3,t);case"heading4":return new o(e,4,t);case"heading5":return new o(e,5,t);case"heading6":return new o(e,6,t);case"paragraph":return new u(e,t);case"preformatted":return new c(e,t);case"strong":return new f(e,t);case"em":return new d(e,t);case"list-item":return new a(e,!1,t);case"o-list-item":return new a(e,!0,t);case"image":return new l(e,t,n);case"embed":return new h(e,t);case"hyperlink":return new p(e,t,n);case"label":return new m(e,t);case"span":return new y(e,t);default:throw new Error("Invalid element type "+e.type+" on element : "+JSON.stringify(e))}}}},function(e,t,n){e.exports=n(3)},function(e,t,n){t.__esModule=!0;var r=n(0),i=n(6),o=n(1);e.exports={asText:function(e){return e.reduce(function(e,t){return e+" "+t.text},"\n")},asTree:r.Tree.fromRichText,serialize:i.default,Elements:o.ElementKindAsObj}},function(e,t,n){function r(){var e=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==t?n:3&n|8).toString(16)})}t.__esModule=!0,t.default=r},function(e,t,n){!function(t,n){e.exports=function(){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=3)}([function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}var i=n(2),o=r(i),a=n(1),s=r(a);e.exports={Link:o.default,Date:s.default}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(!e)return null;var t=24==e.length?e.substring(0,22)+":"+e.substring(22,24):e;return new Date(t)}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default={url:function(e,t){return"Document"===e.link_type?t?t(e,e.isBroken):"":e.url}}},function(e,t,n){e.exports=n(0)}])}()}()},function(e,t,n){function r(e,t,n){return o.Tree.fromRichText(e).root.children.map(function(e){return i(e,t,n)})}function i(e,t,n){function r(e){var i=e.children.reduce(function(e,t){return e.concat([r(t)])},[]);return n&&n(e.raw,e.text)||t(e.type,e.raw,e.text||null,i)}return r(e)}t.__esModule=!0;var o=n(0);t.default=r}])}()}()},function(e,t,n){e.exports=n(1)}])})}).call(t,n(0)(e))}]);